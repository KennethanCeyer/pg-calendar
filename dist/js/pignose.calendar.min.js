//================================================================================
// [pg-calendar]
// version: 1.4.23
// update: 2017.09.07
//================================================================================


!function(a,b){if("undefined"!=typeof define&&define.amd)define(["jquery","moment"],function(a,c){b(window,document,a,c)});else if("object"==typeof module){var c=require("jsdom").jsdom,d=c("<html></html>",{}),e=d.defaultView,f=require("jquery")(e),g=require("moment");module.exports=b(e,d,f,g)}else a.pignoseCalendar=b(window,document,jQuery,moment)}(this,function(a,b,c,d){var e,f,g;!function(a){function b(a,b){return v.call(a,b)}function c(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o=b&&b.split("/"),p=t.map,q=p&&p["*"]||{};if(a){for(a=a.split("/"),g=a.length-1,t.nodeIdCompat&&x.test(a[g])&&(a[g]=a[g].replace(x,"")),"."===a[0].charAt(0)&&o&&(n=o.slice(0,o.length-1),a=n.concat(a)),k=0;k<a.length;k++)if("."===(m=a[k]))a.splice(k,1),k-=1;else if(".."===m){if(0===k||1===k&&".."===a[2]||".."===a[k-1])continue;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}if((o||q)&&p){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),o)for(l=o.length;l>0;l-=1)if((e=p[o.slice(0,l).join("/")])&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&q&&q[d]&&(i=q[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function d(b,c){return function(){var d=w.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),o.apply(a,d.concat([b,c]))}}function h(a){return function(b){return c(b,a)}}function i(a){return function(b){r[a]=b}}function j(c){if(b(s,c)){var d=s[c];delete s[c],u[c]=!0,n.apply(a,d)}if(!b(r,c)&&!b(u,c))throw new Error("No "+c);return r[c]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return a?k(a):[]}function m(a){return function(){return t&&t.config&&t.config[a]||{}}}var n,o,p,q,r={},s={},t={},u={},v=Object.prototype.hasOwnProperty,w=[].slice,x=/\.js$/;p=function(a,b){var d,e=k(a),f=e[0],g=b[1];return a=e[1],f&&(f=c(f,g),d=j(f)),f?a=d&&d.normalize?d.normalize(a,h(g)):c(a,g):(a=c(a,g),e=k(a),f=e[0],a=e[1],f&&(d=j(f))),{f:f?f+"!"+a:a,n:a,pr:f,p:d}},q={require:function(a){return d(a)},exports:function(a){var b=r[a];return void 0!==b?b:r[a]={}},module:function(a){return{id:a,uri:"",exports:r[a],config:m(a)}}},n=function(c,e,f,g){var h,k,m,n,o,t,v,w=[],x=typeof f;if(g=g||c,t=l(g),"undefined"===x||"function"===x){for(e=!e.length&&f.length?["require","exports","module"]:e,o=0;o<e.length;o+=1)if(n=p(e[o],t),"require"===(k=n.f))w[o]=q.require(c);else if("exports"===k)w[o]=q.exports(c),v=!0;else if("module"===k)h=w[o]=q.module(c);else if(b(r,k)||b(s,k)||b(u,k))w[o]=j(k);else{if(!n.p)throw new Error(c+" missing "+k);n.p.load(n.n,d(g,!0),i(k),{}),w[o]=r[k]}m=f?f.apply(r[c],w):void 0,c&&(h&&h.exports!==a&&h.exports!==r[c]?r[c]=h.exports:m===a&&v||(r[c]=m))}else c&&(r[c]=f)},e=f=o=function(b,c,d,e,f){if("string"==typeof b)return q[b]?q[b](c):j(p(b,l(c)).f);if(!b.splice){if(t=b,t.deps&&o(t.deps,t.callback),!c)return;c.splice?(b=c,c=d,d=null):b=a}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?n(a,b,c,d):setTimeout(function(){n(a,b,c,d)},4),o},o.config=function(a){return o(a)},e._defined=r,g=function(a,c,d){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");c.splice||(d=c,c=[]),b(r,a)||b(s,a)||(s[a]=[a,c,d])},g.amd={jQuery:!0}}(),g("almond",function(){}),g("component/models",[],function(){return{ComponentName:"pignoseCalendar",ComponentVersion:"1.4.23",ComponentPreference:{supports:{themes:["light","dark","blue"]}}}}),g("component/helper",["./models"],function(a){var b={},c={},d={},e=/[A-Z]/,f=function(){};return f.Format=function(a){if(a){var c=Array.prototype.slice.call(arguments,1),d=a+c.join(".");if(b[d])return b[d];for(var e=c.length,f=0;f<e;f++){var g=c[f];a=a.replace(new RegExp("((?!\\\\)?\\{"+f+"(?!\\\\)?\\})","g"),g)}return a=a.replace(new RegExp("\\\\{([0-9]+)\\\\}","g"),"{$1}"),b[d]=a,a}return""},f.GetClass=function(b){var d=[a.ComponentName,b].join(".");if(c[d])return c[d];for(var f=b.split(""),g=[],h=f.length,i=0,j=0;i<h;i++){var k=f[i];!0===e.test(k)&&(g[j++]="-",k=k.toString().toLowerCase()),g[j++]=k}var l=g.join("");return c[d]=l,l},f.GetSubClass=function(b){if(b&&b.length){var c=b.split("");c[0]=c[0].toUpperCase(),b=c.join("")}return d[b]||(d[b]=f.GetClass(f.Format("{0}{1}",a.ComponentName,b))),d[b]},f}),g("shim/utils",[],function(){return{register:function(a,b,c){if(!c){var d="PIGNOSE Calendar needs "+a+" library.\nIf you want to use built-in plugin, Import dist/pignose.calendar.full.js.\nType below code in your command line to install the library.";console&&"function"==typeof console.error&&(console.warn(d),console.warn("$ "+b))}return c}}}),g("moment",["./shim/utils"],function(a){var b=void 0;try{b=d}catch(a){}return a.register("moment","npm install moment --save",b)}),g("manager/index",["../component/helper","moment"],function(a,b){var c={},d=function(a){if(!a)throw new Error("first parameter `date` must be gave");if(a instanceof b==!1){if("string"!=typeof a&&"number"!=typeof a)throw new Error("`date` option is invalid type. (date: "+a+").");a=b(a)}this.year=parseInt(a.format("YYYY"),10),this.month=parseInt(a.format("MM"),10),this.prevMonth=parseInt(a.clone().add(-1,"months").format("MM"),10),this.nextMonth=parseInt(a.clone().add(1,"months").format("MM"),10),this.day=parseInt(a.format("DD"),10),this.firstDay=1,this.lastDay=parseInt(a.clone().endOf("month").format("DD"),10),this.weekDay=a.weekday(),this.date=a};return d.prototype.toString=function(){return this.date.format("YYYY-MM-DD")},d.Convert=function(d,e,f){var g=a.Format("{0}-{1}-{2}",d,e,f);return c[g]||(c[g]=b(g,"YYYY-MM-DD")),c[g]},d}),g("component/classNames",["../component/helper"],function(a){return{top:a.GetSubClass("top"),header:a.GetSubClass("header"),body:a.GetSubClass("body"),button:a.GetSubClass("button")}}),g("configures/i18n",[],function(){return{supports:["en","ko","fr","ch","de","jp","pt","da","pl","es","cs"],weeks:{en:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ko:["일","월","화","수","목","금","토"],fa:["شنبه","آدینه","پنج","چهار","سه","دو","یک"],fr:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],ch:["日","一","二","三","四","五","六"],de:["SO","MO","DI","MI","DO","FR","SA"],jp:["日","月","火","水","木","金","土"],pt:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],da:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],pl:["Nie","Pon","Wto","Śro","Czw","Pią","Sob"],es:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],it:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],cs:["Ne","Po","Út","St","Čt","Pá","So"]},monthsLong:{en:["January","February","March","April","May","Jun","July","August","September","October","November","December"],ko:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],fa:["آذر","آبان","مهر","شهریور","مرداد","تیر","خرداد","اردیبهشت","فروردین","اسفند","بهمن","دی"],fr:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],ch:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],de:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],jp:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],pt:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],da:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],pl:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],es:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],it:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],cs:["Leden","Únor","Březen","Duben","Květen","Červen","Cervenec","Srpen","Září","Říjen","Listopad","Prosinec"]},months:{en:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ko:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],fa:["آذر","آبان","مهر","شهریور","مرداد","تیر","خرداد","اردیبهشت","فروردین","اسفند","بهمن","دی"],fr:["Jan","Fév","Mar","Avr","Mai","Juin","Juil","Aoû","Sep","Oct","Nov","Déc"],ch:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],de:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],jp:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],pt:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],da:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],pl:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],es:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dec"],it:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],cs:["Led","Úno","Bře","Dub","Kvě","Čvn","Čvc","Srp","Zář","Říj","Lis","Pro"]}}}),g("component/global",["../configures/i18n"],function(a){return{language:"en",languages:a,week:0,format:"YYYY-MM-DD"}}),g("component/options",["./global"],function(a){return{lang:null,languages:a.languages,theme:"light",date:d(),format:a.format,enabledDates:[],disabledDates:[],disabledWeekdays:[],disabledRanges:[],schedules:[],scheduleOptions:{colors:{}},week:a.week,weeks:a.languages.weeks.en,monthsLong:a.languages.monthsLong.en,months:a.languages.months.en,pickWeeks:!1,initialize:!0,multiple:!1,toggle:!1,reverse:!1,buttons:!1,modal:!1,selectOver:!1,minDate:null,maxDate:null,init:null,select:null,apply:null,click:null,page:null,prev:null,next:null}}),g("jquery",["./shim/utils"],function(a){var b=void 0;try{b=jQuery||$}catch(a){}return a.register("jquery","npm install jquery --save",b)}),g("methods/configure",["../component/global","../component/models","../component/options","../configures/i18n","jquery","moment"],function(a,b,c,d,e,f){return function(d){var f=this;f.settings=e.extend(!0,{},c,d),f.settings.lang||(f.settings.lang=a.language),"en"!==f.settings.lang&&-1!==e.inArray(f.settings.lang,a.languages.supports)&&(f.settings.weeks=a.languages.weeks[f.settings.lang],f.settings.monthsLong=a.languages.monthsLong[f.settings.lang],f.settings.months=a.languages.months[f.settings.lang]),"light"!==f.settings.theme&&-1===e.inArray(f.settings.theme,b.ComponentPreference.supports.themes)&&(f.settings.theme="light"),!0===f.settings.pickWeeks&&(!1===f.settings.multiple?console.error("You must give true at settings.multiple options on PIGNOSE-Calendar for using in pickWeeks option."):!0===f.settings.toggle&&console.error("You must give false at settings.toggle options on PIGNOSE-Calendar for using in pickWeeks option.")),f.settings.week%=f.settings.weeks.length}});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};g("methods/init",["../manager/index","../component/classNames","../component/helper","../component/models","../component/global","./configure","jquery","moment"],function(c,d,e,f,g,i,j,k){var l=j(a);j(b);return function(a){var b=this;b.settings={},i.call(b,a),b.global={calendarHtml:e.Format('<div class="{0} {0}-{4}">                                            <div class="{1}">                                                <a href="#" class="{1}-nav {1}-prev">                                                    <span class="icon-arrow-left {1}-icon"></span>                                                </a>                                                <div class="{1}-date">                                                    <span class="{1}-month"></span>                                                    <span class="{1}-year"></span>                                                </div>                                                <a href="#" class="{1}-nav {1}-next">                                                    <span class="icon-arrow-right {1}-icon"></span>                                                </a>                                            </div>                                            <div class="{2}"></div>                                            <div class="{3}"></div>                                        </div>',e.GetClass(f.ComponentName),d.top,d.header,d.body,b.settings.theme),calendarButtonsHtml:e.Format('<div class="{0}-group">                                                    <a href="#" class="{0} {0}-cancel">Cancel</a>                                                    <a href="#" class="{0} {0}-apply">OK</a>                                                </div>',d.button),calendarScheduleContainerHtml:e.Format('<div class="{0}-schedule-container"></div>',d.button),calendarSchedulePinHtml:e.Format('<span class="{0}-schedule-pin {0}-schedule-pin-\\{0\\}" style="background-color: \\{1\\};"></span>',d.button)};var m=e.GetSubClass("unitRange"),n=e.GetSubClass("unitRangeFirst"),o=e.GetSubClass("unitRangeLast"),p=e.GetSubClass("unitActive"),q=[e.GetSubClass("unitFirstActive"),e.GetSubClass("unitSecondActive")],r=e.GetSubClass("unitToggleActive"),s=e.GetSubClass("unitToggleInactive"),t=null;return b.each(function(){var a=j(this),i={initialize:null,element:a,calendar:j(b.global.calendarHtml),input:a.is("input"),renderer:null,current:[null,null],date:{all:[],enabled:[],disabled:[]},storage:{activeDates:[],schedules:[]},dateManager:new c(b.settings.date),calendarWrapperHtml:e.Format('<div class="{0}"></div>',e.GetSubClass("wrapper")),calendarWrapperOverlayHtml:e.Format('<div class="{0}"></div>',e.GetSubClass("wrapperOverlay")),context:b},u=a;!0===b.settings.initialize&&(i.initialize=i.current[0]=i.dateManager.date.clone()),this.local=i,!0===b.settings.reverse?i.calendar.addClass(e.GetSubClass("reverse")):i.calendar.addClass(e.GetSubClass("default"));for(var v=b.settings.week;v<b.settings.weeks.length+b.settings.week;v++){v<0&&(v=g.languages.weeks.en.length-v);var w=b.settings.weeks[v%b.settings.weeks.length];if("string"==typeof w){w=w.toUpperCase();j(e.Format('<div class="{0} {0}-{2}">{1}</div>',e.GetSubClass("week"),w,g.languages.weeks.en[v%g.languages.weeks.en.length].toLowerCase())).appendTo(i.calendar.find("."+d.header))}}if(!0===b.settings.buttons&&(t=j(b.global.calendarButtonsHtml),t.appendTo(i.calendar)),!0===i.input||!0===b.settings.modal){var x=e.GetSubClass("wrapperActive"),y=e.GetSubClass("wrapperOverlayActive"),z=void 0;u=j(i.calendarWrapperHtml),u.bind("click",function(a){a.stopPropagation()}),a.bind("click",function(b){b.preventDefault(),b.stopPropagation(),b.stopImmediatePropagation(),z=j("."+e.GetSubClass("wrapperOverlay")),z.length<1&&(z=j(i.calendarWrapperOverlayHtml),z.appendTo("body")),z.unbind("click."+e.GetClass(f.ComponentName)).bind("click."+e.GetClass(f.ComponentName),function(a){a.stopPropagation(),u.trigger("cancel."+e.GetClass(f.ComponentName))}),!1===u.parent().is("body")&&u.appendTo("body"),u.show(),z.show(),l.unbind("resize."+e.GetClass(f.ComponentName)).bind("resize."+e.GetClass(f.ComponentName),function(){u.css({marginLeft:-u.outerWidth()/2,marginTop:-u.outerHeight()/2})}).triggerHandler("resize."+e.GetClass(f.ComponentName)),a[f.ComponentName]("set",a.val()),setTimeout(function(){z.addClass(y),u.addClass(x)},25)}).bind("focus",function(a){j(this).blur()}),u.unbind("cancel."+e.GetClass(f.ComponentName)+" apply."+e.GetClass(f.ComponentName)).bind("cancel."+e.GetClass(f.ComponentName)+" apply."+e.GetClass(f.ComponentName),function(){z.removeClass(y).hide(),u.removeClass(x).hide()})}var A=function(){if(!i.current[0]||!i.current[1])return!1;var a=i.current[0].format("YYYY-MM-DD"),b=i.current[1].format("YYYY-MM-DD"),c=k(Math.max(i.current[0].valueOf(),i.dateManager.date.clone().startOf("month").valueOf())),d=k(Math.min(i.current[1].valueOf(),i.dateManager.date.clone().endOf("month").valueOf())),f=c.format("YYYY-MM-DD")!==a,g=d.format("YYYY-MM-DD")!==b;!1===f&&c.add(1,"days"),!1===g&&d.add(-1,"days");for(var h=c.format("YYYY-MM-DD"),j=d.format("YYYY-MM-DD");c.format("YYYY-MM-DD")<=d.format("YYYY-MM-DD");c.add(1,"days")){var l=c.format("YYYY-MM-DD"),p=i.calendar.find(e.Format('.{0}[data-date="{1}"]',e.GetSubClass("unit"),l)).addClass(m);l===h&&p.addClass(n),l===j&&p.addClass(o)}},B=function(a,b,c){return!!c&&(a.diff(c)<0&&b.diff(c)>0)},C=function(a){if(-1!==b.settings.disabledDates.indexOf(a))return!1;if(a.diff(b.settings.maxDate)>=0)return!1;if(a.diff(b.settings.minDate)<=0)return!1;for(var c in b.settings.disabledRanges){var d=b.settings.disabledRanges[c],e=k(d[0]),f=k(d[1]);if(B(e,f,a))return!1}var g=a.weekday();return-1===b.settings.disabledWeekdays.indexOf(g)},D=function(a,c){var d=void 0;for(var e in b.settings.disabledDates)if(d=k(b.settings.disabledDates[e]),B(a,c,d))return!1;if(B(a,c,b.settings.maxDate))return!1;if(B(a,c,b.settings.minDate))return!1;for(var f in b.settings.disabledRanges){var g=b.settings.disabledRanges[f],h=k(g[0]),i=k(g[1]);if(B(a,c,h)||B(a,c,i))return!1}var j=a.weekday(),l=c.weekday(),m=void 0;j>l&&(m=j,j=l,l=m);for(var n=0,o=0;n<b.settings.disabledWeekdays.length&&o<7;n++){o++;var p=b.settings.disabledWeekdays[n];if(p>=j&&p<=l)return!1}return!0};i.renderer=function(){if(i.calendar.appendTo(u.empty()),i.calendar.find("."+d.top+"-year").text(i.dateManager.year),i.calendar.find("."+d.top+"-month").text(b.settings.monthsLong[i.dateManager.month-1]),i.calendar.find(e.Format(".{0}-prev .{0}-value",d.top)).text(b.settings.months[i.dateManager.prevMonth-1].toUpperCase()),i.calendar.find(e.Format(".{0}-next .{0}-value",d.top)).text(b.settings.months[i.dateManager.nextMonth-1].toUpperCase()),!0===b.settings.buttons&&t){var l=a;t.find("."+d.button).bind("click",function(a){a.preventDefault(),a.stopPropagation();var c=j(this);if(c.hasClass(d.button+"-apply")){c.trigger("apply."+f.ComponentName,i);var g="";if(!0===b.settings.toggle)g=i.storage.activeDates.join(", ");else if(!0===b.settings.multiple){var h=[];null!==i.current[0]&&h.push(i.current[0].format(b.settings.format)),null!==i.current[1]&&h.push(i.current[1].format(b.settings.format)),g=h.join(" ~ ")}else g=null===i.current[0]?"":k(i.current[0]).format(b.settings.format);!0===i.input&&l.val(g).triggerHandler("change"),"function"==typeof b.settings.apply&&b.settings.apply.call(i.calendar,i.current,i),u.triggerHandler("apply."+e.GetClass(f.ComponentName))}else u.triggerHandler("cancel."+e.GetClass(f.ComponentName))})}var v=i.calendar.find("."+d.body).empty(),w=c.Convert(i.dateManager.year,i.dateManager.month,i.dateManager.firstDay),x=c.Convert(i.dateManager.year,i.dateManager.month,i.dateManager.lastDay),y=w.weekday()-b.settings.week,z=x.weekday()-b.settings.week;y<0&&(y+=b.settings.weeks.length);for(var B=[],E=[null===i.current[0]?null:i.current[0].format("YYYY-MM-DD"),null===i.current[1]?null:i.current[1].format("YYYY-MM-DD")],F=null===b.settings.minDate?null:k(b.settings.minDate),G=null===b.settings.maxDate?null:k(b.settings.maxDate),H=0;H<y;H++){var I=j(e.Format('<div class="{0} {0}-{1}"></div>',e.GetSubClass("unit"),g.languages.weeks.en[H].toLowerCase()));B.push(I)}for(var J=i.dateManager.firstDay;J<=i.dateManager.lastDay;J++)!function(d){var l=c.Convert(i.dateManager.year,i.dateManager.month,d),t=l.format("YYYY-MM-DD"),v=j(e.Format('<div class="{0} {0}-date {0}-{3}" data-date="{1}"><a href="#">{2}</a></div>',e.GetSubClass("unit"),l.format("YYYY-MM-DD"),d,g.languages.weeks.en[l.weekday()].toLowerCase()));if(b.settings.enabledDates.length>0)-1===j.inArray(t,b.settings.enabledDates)&&v.addClass(e.GetSubClass("unitDisabled"));else if(b.settings.disabledWeekdays.length>0&&-1!==j.inArray(l.weekday(),b.settings.disabledWeekdays))v.addClass(e.GetSubClass("unitDisabled")).addClass(e.GetSubClass("unitDisabledWeekdays"));else if(null!==F&&F.diff(l)>0||null!==G&&G.diff(l)<0)v.addClass(e.GetSubClass("unitDisabled")).addClass(e.GetSubClass("unitDisabledRange"));else if(-1!==j.inArray(t,b.settings.disabledDates))v.addClass(e.GetSubClass("unitDisabled"));else if(b.settings.disabledRanges.length>0)for(var w=b.settings.disabledRanges.length,x=0;x<w;x++){var y=b.settings.disabledRanges[x];y.length;if(l.diff(k(y[0]))>=0&&l.diff(k(y[1]))<=0){v.addClass(e.GetSubClass("unitDisabled")).addClass(e.GetSubClass("unitDisabledRange")).addClass(e.GetSubClass("unitDisabledMultipleRange"));break}}if(b.settings.schedules.length>0&&"object"===h(b.settings.scheduleOptions)&&"object"===h(b.settings.scheduleOptions.colors)){var z=b.settings.schedules.filter(function(a){return a.date===t}),H=j.unique(z.map(function(a,b){return a.name}).sort());if(H.length>0){var I=j(b.global.calendarScheduleContainerHtml);I.appendTo(v),H.map(function(a,c){if(b.settings.scheduleOptions.colors[a]){var d=b.settings.scheduleOptions.colors[a];j(e.Format(b.global.calendarSchedulePinHtml,a,d)).appendTo(I)}})}}!0===b.settings.toggle?-1!==j.inArray(t,i.storage.activeDates)&&i.storage.activeDates.length>0?v.addClass(r):v.addClass(s):!1===v.hasClass(e.GetSubClass("unitDisabled"))&&(!0===b.settings.multiple?(E[0]&&t===E[0]&&v.addClass(p).addClass(q[0]),E[1]&&t===E[1]&&v.addClass(p).addClass(q[1])):E[0]&&t===E[0]&&-1===j.inArray(E[0],b.settings.disabledDates)&&(b.settings.enabledDates.length<1||-1!==j.inArray(E[0],b.settings.enabledDates))&&v.addClass(p).addClass(q[0])),B.push(v);var J=a;v.bind("click",function(a){a.preventDefault(),a.stopPropagation();var c=j(this),d=c.data("date"),g=0,h=!1;if(c.hasClass(e.GetSubClass("unitDisabled")))h=!0;else if(!0===i.input&&!1===b.settings.multiple&&!1===b.settings.buttons)J.val(k(d).format(b.settings.format)),u.triggerHandler("apply."+e.GetClass(f.ComponentName));else if(null!==i.initialize&&i.initialize.format("YYYY-MM-DD")===d&&!1===b.settings.toggle);else{if(!0===b.settings.toggle){var l=i.storage.activeDates.filter(function(a,b){return a===d});if(i.current[g]=k(d),l.length<1)i.storage.activeDates.push(d),c.addClass(r).removeClass(s);else{for(var t=0,v=0;v<i.storage.activeDates.length;v++){var w=i.storage.activeDates[v];if(d===w){t=v;break}}i.storage.activeDates.splice(t,1),c.removeClass(r).addClass(s)}}else if(!0===c.hasClass(p)&&!1===b.settings.pickWeeks)!0===b.settings.multiple&&(c.hasClass(q[0])?g=0:q[1]&&(g=1)),c.removeClass(p).removeClass(q[g]),i.current[g]=null;else{if(!0===b.settings.pickWeeks)if(!0===c.hasClass(p)||!0===c.hasClass(m)){for(var x=0;x<2;x++)i.calendar.find("."+p+"."+q[x]).removeClass(p).removeClass(q[x]);i.current[0]=null,i.current[1]=null}else{i.current[0]=k(d).startOf("week").add(b.settings.week,"days"),i.current[1]=k(d).endOf("week").add(b.settings.week,"days");for(var y=0;y<2;y++)i.calendar.find("."+p+"."+q[y]).removeClass(p).removeClass(q[y]),i.calendar.find(e.Format('.{0}[data-date="{1}"]',e.GetSubClass("unit"),i.current[y].format("YYYY-MM-DD"))).addClass(p).addClass(q[y])}else!0===b.settings.multiple&&(null===i.current[0]?g=0:null===i.current[1]?g=1:(g=0,i.current[1]=null,i.calendar.find("."+p+"."+q[1]).removeClass(p).removeClass(q[1]))),i.calendar.find("."+p+"."+q[g]).removeClass(p).removeClass(q[g]),c.addClass(p).addClass(q[g]),i.current[g]=k(d);if(i.current[0]&&i.current[1]){if(i.current[0].diff(i.current[1])>0){var z=i.current[0];i.current[0]=i.current[1],i.current[1]=z,z=null,i.calendar.find("."+p).each(function(){var a=j(this);for(var b in q){var c=q[b];a.toggleClass(c)}})}if(!1===D(i.current[0],i.current[1])&&!1===b.settings.selectOver&&(i.current[0]=null,i.current[1]=null,i.calendar.find("."+p).removeClass(p).removeClass(q[0]).removeClass(q[1])),!0===i.input&&!1===b.settings.buttons){var B=[];null!==i.current[0]&&B.push(i.current[0].format(b.settings.format)),null!==i.current[1]&&B.push(i.current[1].format(b.settings.format)),c.val(B.join(", ")),u.trigger("apply."+e.GetClass(f.ComponentName))}}}!0===b.settings.multiple&&(i.calendar.find("."+m).removeClass(m).removeClass(n).removeClass(o),A.call()),b.settings.schedules.length>0&&(i.storage.schedules=b.settings.schedules.filter(function(a){return a.date===d}))}var E=function(a){i.date.all.push(a),C(k(a))?i.date.enabled.push(a):i.date.disabled.push(a)};if(i.current[0])if(i.current[1])for(var F=i.current[0],G=F.clone();G.format("YYYY-MM-DD")<=i.current[1].format("YYYY-MM-DD");G.add("1","days"))E(G.clone());else{var H=i.current[0];E(H.clone())}!1===h&&(i.initialize=null,"function"==typeof b.settings.select&&b.settings.select.call(c,i.current,i)),"function"==typeof b.settings.click&&b.settings.click.call(c,a,i)})}(J);for(var K=z+1;B.length<5*b.settings.weeks.length;K++){K<0&&(K=g.languages.weeks.en.length-K);var L=j(e.Format('<div class="{0} {0}-{1}"></div>',e.GetSubClass("unit"),g.languages.weeks.en[K%g.languages.weeks.en.length].toLowerCase()));B.push(L)}for(var M=null,N=0;N<B.length;N++){var O=B[N];(N%b.settings.weeks.length==0||N+1>=B.length)&&(null!==M&&M.appendTo(v),N+1<B.length&&(M=j(e.Format('<div class="{0}"></div>',e.GetSubClass("row"))))),M.append(O)}i.calendar.find("."+d.top+"-nav").bind("click",function(a){a.preventDefault(),a.stopPropagation();var e=j(this),f="unkown";e.hasClass(d.top+"-prev")?(f="prev",i.dateManager=new c(i.dateManager.date.clone().add(-1,"months"))):e.hasClass(d.top+"-next")&&(f="next",i.dateManager=new c(i.dateManager.date.clone().add(1,"months"))),"function"==typeof b.settings.page&&b.settings.page.call(e,{type:f,year:i.dateManager.year,month:i.dateManager.month,day:i.dateManager.day},i),"function"==typeof b.settings[f]&&b.settings[f].call(e,{type:f,year:i.dateManager.year,month:i.dateManager.month,day:i.dateManager.day},i),i.renderer.call()}),!0===b.settings.multiple&&(i.calendar.find("."+m).removeClass(m).removeClass(n).removeClass(o),A.call())},i.renderer.call(),a[0][f.ComponentName]=i,"function"==typeof b.settings.init&&b.settings.init.call(a,i)})}}),g("methods/setting",["../component/global","jquery","moment"],function(a,b,c){return function(c){var d=b.extend({language:a.language,languages:{},week:null,format:null},c);if(a.language=d.language,Object.keys(d.languages).length>0){for(var e in d.languages){if("break"===function(b){var c=d.languages[b];return"string"!=typeof b&&console.error("Global configuration is failed.\nMessage: language key is not a string type.",b),c.weeks?c.monthsLong?c.months?c.weeks.length<7?(console.error("`weeks` must have least 7 items."),"break"):(7!==c.weeks.length&&console.warn("`weeks` option over 7 items. We recommend to give 7 items."),c.monthsLong.length<12?(console.error("`monthsLong` must have least 12 items."),"break"):(12!==c.monthsLong.length&&console.warn("`monthsLong` option over 12 items. We recommend to give 12 items."),c.months.length<12?(console.error("`months` must have least 12 items."),"break"):(12!==c.months.length&&console.warn("`months` option over 12 items. We recommend to give 12 items."),-1===a.languages.supports.indexOf(b)&&a.languages.supports.push(b),void["weeks","monthsLong","months"].map(function(d){a.languages[d][b]&&console.warn("`"+b+"` language is already given however it will be overwriten."),a.languages[d][b]=c[d]})))):(console.error("Global configuration is failed.\nMessage: You must give `months` option of `"+b+"` language."),"break"):(console.error("Global configuration is failed.\nMessage: You must give `monthsLong` option of `"+b+"` language."),"break"):(console.error("Global configuration is failed.\nMessage: You must give `weeks` option of `"+b+"` language."),"break")}(e))break}}d.week&&("number"==typeof d.week?a.week=d.week:console.error("Global configuration is failed.\nMessage: You must give `week` option as number type.")),d.format&&("string"==typeof d.format?a.format=d.format:console.error("Global configuration is failed.\nMessage: You must give `format` option as string type."))}}),g("methods/select",["../component/helper","jquery","moment"],function(a,b,c){return function(c){this.each(function(){var d=this.local,e=d.dateManager,f=a.Format("{0}-{1}-{2}",e.year,e.month,c);b(this).find(a.Format('.{0}[data-date="{1}"]',a.GetSubClass("unit"),f)).triggerHandler("click")})}}),g("methods/set",["jquery","moment","../manager/index","../component/models"],function(a,b,c,d){return function(e){if(e){var f=e.split("~").map(function(b){var c=a.trim(b);return c||null});this.each(function(){var e=a(this),g=e[0][d.ComponentName],h=g.context,i=[f[0]?b(f[0],h.settings.format):null,f[1]?b(f[1],h.settings.format):null];if(g.dateManager=new c(i[0]),!0===h.settings.pickWeeks&&i[0]){var j=i[0];i[0]=j.clone().startOf("week"),i[1]=j.clone().endOf("week")}!0===h.settings.toggle?g.storage.activeDates=f:g.current=i,g.renderer.call()})}}}),g("methods/index",["./init","./configure","./setting","./select","./set"],function(a,b,c,d,e){return{init:a,configure:b,setting:c,select:d,set:e}}),g("component/polyfills",[],function(){Array.prototype.filter||(Array.prototype.filter=function(a){"use strict";if(null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)return[];for(var d=[],e=arguments[1],f=0;f<c;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d})}),g("core",["./methods/index","./component/models","./component/polyfills"],function(b,c,d){"use strict";return a[c.ComponentName]={VERSION:c.ComponentVersion},b});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return g("main",["core","component/models"],function(a,b){"use strict";var c=function(b,c){return void 0!==a[c]?a[c].apply(b,Array.prototype.slice.call(arguments,2)):"object"!==(void 0===c?"undefined":h(c))&&c?void console.error("Argument error are occured."):a.init.apply(b,Array.prototype.slice.call(arguments,1))};for(var d in b)c[d]=b[d];return c}),g("plugin",["main","component/models","jquery"],function(a,b,c){"use strict";c.fn[b.ComponentName]=function(b){return a.apply(a,[this,b].concat(Array.prototype.splice.call(arguments,1)))};for(var d in b)c.fn[b.ComponentName][d]=b[d];return a}),f("plugin")});